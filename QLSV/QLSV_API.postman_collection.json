{
  "info": {
    "name": "QLSV - Student Management API",
    "description": "API Collection cho h·ªá th·ªëng qu·∫£n l√Ω sinh vi√™n",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin123\",\n  \"role\": \"ADMIN\"\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/auth/register",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "auth", "register"]
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/auth/login",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "auth", "login"]
            }
          }
        }
      ]
    },
    {
      "name": "Students",
      "item": [
        {
          "name": "Get All Students",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8080/api/students",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "students"]
            }
          }
        },
        {
          "name": "Get Student By ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8080/api/students/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "students", "1"]
            }
          }
        },
        {
          "name": "Create Student",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"studentCode\": \"2021600004\",\n  \"fullName\": \"Ph·∫°m VƒÉn D\",\n  \"gender\": \"MALE\",\n  \"dob\": \"2003-06-20\",\n  \"email\": \"phamvand@student.edu.vn\",\n  \"classId\": 1\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/students",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "students"]
            }
          }
        },
        {
          "name": "Update Student",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"studentCode\": \"2021600004\",\n  \"fullName\": \"Ph·∫°m VƒÉn D (Updated)\",\n  \"gender\": \"MALE\",\n  \"dob\": \"2003-06-20\",\n  \"email\": \"phamvand@student.edu.vn\",\n  \"classId\": 1\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/students/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "students", "1"]
            }
          }
        },
        {
          "name": "Delete Student",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8080/api/students/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "students", "1"]
            }
          }
        }
      ]
    },
    {
      "name": "Classes",
      "item": [
        {
          "name": "Get All Classes",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8080/api/classes",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "classes"]
            }
          }
        },
        {
          "name": "Create Class",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"DHKTPM19A\",\n  \"faculty\": \"C√¥ng ngh·ªá Th√¥ng tin\",\n  \"courseYear\": 2023\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/classes",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "classes"]
            }
          }
        }
      ]
    },
    {
      "name": "Subjects",
      "item": [
        {
          "name": "Get All Subjects",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8080/api/subjects",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "subjects"]
            }
          }
        },
        {
          "name": "Create Subject",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"PTTK\",\n  \"name\": \"Ph√¢n t√≠ch thi·∫øt k·∫ø h·ªá th·ªëng\",\n  \"credit\": 3\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/subjects",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "subjects"]
            }
          }
        }
      ]
    },
    {
      "name": "Enrollments",
      "item": [
        {
          "name": "Get All Enrollments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8080/api/enrollments",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "enrollments"]
            }
          }
        },
        {
          "name": "Get Enrollments By Student",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:8080/api/enrollments/student/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "enrollments", "student", "1"]
            }
          }
        },
        {
          "name": "Create Enrollment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"studentId\": 1,\n  \"subjectId\": 1,\n  \"semester\": \"HK2-2023\",\n  \"grade\": 8.5\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/enrollments",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "enrollments"]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "token",
      "value": "your_jwt_token_here"
    }
  ]
}
//# üéì H·ªÜ TH·ªêNG QU·∫¢N L√ù SINH VI√äN - BACKEND
//
//## üìã M√¥ t·∫£
//H·ªá th·ªëng Backend qu·∫£n l√Ω sinh vi√™n ƒë·∫°i h·ªçc ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng Spring Boot v·ªõi c√°c t√≠nh nƒÉng:
//- ‚úÖ REST API v·ªõi JWT Authentication
//- ‚úÖ Ph√¢n quy·ªÅn (ADMIN, LECTURER, STUDENT)
//- ‚úÖ WebSocket ƒë·ªÉ g·ª≠i th√¥ng b√°o realtime
//- ‚úÖ SQL Server Database
//- ‚úÖ Ki·∫øn tr√∫c 3 l·ªõp chu·∫©n (Controller - Service - Repository)
//
//## üõ†Ô∏è C√¥ng ngh·ªá s·ª≠ d·ª•ng
//- Java 17
//- Spring Boot 3.1.5
//- Spring Security + JWT
//- Spring Data JPA
//- SQL Server
//- WebSocket (STOMP)
//- Lombok
//- Maven
//
//## üìÅ C·∫•u tr√∫c d·ª± √°n
//```
//src/main/java/iuh/fit/se/
//‚îú‚îÄ‚îÄ config/              # C·∫•u h√¨nh Security, JWT, WebSocket
//‚îú‚îÄ‚îÄ controller/          # REST Controllers
//‚îú‚îÄ‚îÄ route/              # JWT Filter (x√°c th·ª±c token)
//‚îú‚îÄ‚îÄ service/            # Business Logic
//‚îÇ   ‚îî‚îÄ‚îÄ impl/           # Service implementations
//‚îú‚îÄ‚îÄ repository/         # Data Access Layer
//‚îú‚îÄ‚îÄ model/              # Entity classes
//‚îú‚îÄ‚îÄ dto/                # Request/Response DTOs
//‚îÇ   ‚îú‚îÄ‚îÄ request/
//‚îÇ   ‚îî‚îÄ‚îÄ response/
//‚îú‚îÄ‚îÄ exception/          # Exception handlers
//‚îú‚îÄ‚îÄ socket/             # WebSocket controller
//‚îî‚îÄ‚îÄ App.java           # Main application
//```
//
//## üöÄ H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t
//
//### 1. Y√™u c·∫ßu h·ªá th·ªëng
//- JDK 17 tr·ªü l√™n
//- Maven 3.6+
//- SQL Server 2019 tr·ªü l√™n
//- IDE: IntelliJ IDEA / Eclipse
//
//### 2. C√†i ƒë·∫∑t SQL Server
//1. C√†i ƒë·∫∑t SQL Server
//2. T·∫°o database m·ªõi t√™n `QLSV_DB`
//3. C·∫≠p nh·∫≠t th√¥ng tin k·∫øt n·ªëi trong `application.properties`:
//```properties
//spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=QLSV_DB;encrypt=true;trustServerCertificate=true
//spring.datasource.username=sa
//spring.datasource.password=your_password
//```
//
//### 3. C√†i ƒë·∫∑t dependencies
//```bash
//mvn clean install
//```
//
//### 4. Ch·∫°y ·ª©ng d·ª•ng
//```bash
//mvn spring-boot:run
//```
//Ho·∫∑c ch·∫°y tr·ª±c ti·∫øp t·ª´ IDE: Run `App.java`
//
//Server s·∫Ω ch·∫°y t·∫°i: `http://localhost:8080`
//
//## üì° API Endpoints
//
//### üîê Authentication APIs
//| Method | Endpoint | M√¥ t·∫£ | Role |
//|--------|----------|-------|------|
//| POST | `/api/auth/register` | ƒêƒÉng k√Ω t√†i kho·∫£n | Public |
//| POST | `/api/auth/login` | ƒêƒÉng nh·∫≠p | Public |
//
//**Register Request:**
//```json
//{
//"username": "admin",
//"password": "admin123",
//"role": "ADMIN"
//}
//```
//
//**Login Request:**
//```json
//{
//"username": "admin",
//"password": "admin123"
//}
//```
//
//**Login Response:**
//```json
//{
//"token": "eyJhbGciOiJIUzUxMiJ9...",
//"type": "Bearer",
//"username": "admin",
//"role": "ADMIN"
//}
//```
//
//### üë®‚Äçüéì Student APIs
//| Method | Endpoint | M√¥ t·∫£ | Role |
//|--------|----------|-------|------|
//| POST | `/api/students` | T·∫°o sinh vi√™n m·ªõi | ADMIN |
//| GET | `/api/students` | L·∫•y danh s√°ch sinh vi√™n | ADMIN, LECTURER |
//| GET | `/api/students/{id}` | L·∫•y th√¥ng tin sinh vi√™n | ALL |
//| PUT | `/api/students/{id}` | C·∫≠p nh·∫≠t sinh vi√™n | ADMIN |
//| DELETE | `/api/students/{id}` | X√≥a sinh vi√™n | ADMIN |
//
//**Create Student Request:**
//```json
//{
//"studentCode": "2021600001",
//"fullName": "Nguy·ªÖn VƒÉn A",
//"gender": "MALE",
//"dob": "2003-05-15",
//"email": "nguyenvana@student.edu.vn",
//"classId": 1
//}
//```
//
//### üè´ Class APIs
//| Method | Endpoint | M√¥ t·∫£ | Role |
//|--------|----------|-------|------|
//| POST | `/api/classes` | T·∫°o l·ªõp m·ªõi | ADMIN |
//| GET | `/api/classes` | L·∫•y danh s√°ch l·ªõp | ALL |
//| GET | `/api/classes/{id}` | L·∫•y th√¥ng tin l·ªõp | ALL |
//| PUT | `/api/classes/{id}` | C·∫≠p nh·∫≠t l·ªõp | ADMIN |
//| DELETE | `/api/classes/{id}` | X√≥a l·ªõp | ADMIN |
//
//**Create Class Request:**
//```json
//{
//"name": "DHKTPM17A",
//"faculty": "C√¥ng ngh·ªá Th√¥ng tin",
//"courseYear": 2021
//}
//```
//
//### üìö Subject APIs
//| Method | Endpoint | M√¥ t·∫£ | Role |
//|--------|----------|-------|------|
//| POST | `/api/subjects` | T·∫°o m√¥n h·ªçc m·ªõi | ADMIN |
//| GET | `/api/subjects` | L·∫•y danh s√°ch m√¥n h·ªçc | ALL |
//| GET | `/api/subjects/{id}` | L·∫•y th√¥ng tin m√¥n h·ªçc | ALL |
//| PUT | `/api/subjects/{id}` | C·∫≠p nh·∫≠t m√¥n h·ªçc | ADMIN |
//| DELETE | `/api/subjects/{id}` | X√≥a m√¥n h·ªçc | ADMIN |
//
//**Create Subject Request:**
//```json
//{
//"code": "LTCT",
//"name": "L·∫≠p tr√¨nh cƒÉn b·∫£n",
//"credit": 3
//}
//```
//
//### üìù Enrollment APIs
//| Method | Endpoint | M√¥ t·∫£ | Role |
//|--------|----------|-------|------|
//| POST | `/api/enrollments` | ƒêƒÉng k√Ω m√¥n h·ªçc | ADMIN, STUDENT |
//| GET | `/api/enrollments` | L·∫•y danh s√°ch ƒëƒÉng k√Ω | ADMIN, LECTURER |
//| GET | `/api/enrollments/student/{studentId}` | L·∫•y ƒëƒÉng k√Ω theo sinh vi√™n | ALL |
//| PUT | `/api/enrollments/{id}` | C·∫≠p nh·∫≠t ƒëi·ªÉm | ADMIN, LECTURER |
//| DELETE | `/api/enrollments/{id}` | X√≥a ƒëƒÉng k√Ω | ADMIN, STUDENT |
//
//**Create Enrollment Request:**
//```json
//{
//"studentId": 1,
//"subjectId": 1,
//"semester": "HK1-2023",
//"grade": 8.5
//}
//```
//
//## üîë S·ª≠ d·ª•ng JWT Token
//
//Sau khi ƒëƒÉng nh·∫≠p, th√™m token v√†o header c·ªßa m·ªçi request:
//```
//Authorization: Bearer {token}
//```
//
//## üåê WebSocket - Realtime Notifications
//
//### K·∫øt n·ªëi WebSocket
//```javascript
//const socket = new SockJS('http://localhost:8080/ws');
//const stompClient = Stomp.over(socket);
//
//stompClient.connect({}, function(frame) {
//console.log('Connected: ' + frame);
//
//// Subscribe ƒë·ªÉ nh·∫≠n th√¥ng b√°o sinh vi√™n m·ªõi
//stompClient.subscribe('/topic/students', function(message) {
//console.log('New student:', JSON.parse(message.body));
//});
//});
//```
//
//## üìä HTTP Status Codes
//
//| Code | √ù nghƒ©a | Khi n√†o |
//|------|---------|---------|
//| 200 | OK | GET, PUT, DELETE th√†nh c√¥ng |
//| 201 | Created | POST th√†nh c√¥ng |
//| 400 | Bad Request | D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá |
//| 401 | Unauthorized | Token kh√¥ng h·ª£p l·ªá/h·∫øt h·∫°n |
//| 403 | Forbidden | Kh√¥ng ƒë·ªß quy·ªÅn |
//| 404 | Not Found | Kh√¥ng t√¨m th·∫•y resource |
//| 409 | Conflict | D·ªØ li·ªáu tr√πng l·∫∑p |
//| 500 | Internal Server Error | L·ªói server |
//
//## üß™ Test API v·ªõi Postman
//
//1. Import collection t·ª´ file `QLSV_API.postman_collection.json`
//2. T·∫°o user admin:
//- POST `/api/auth/register` v·ªõi role ADMIN
//3. ƒêƒÉng nh·∫≠p ƒë·ªÉ l·∫•y token
//4. Th√™m token v√†o Authorization header
//5. Test c√°c endpoints kh√°c
//
//## üìù L∆∞u √Ω
//
//- Database s·∫Ω t·ª± ƒë·ªông t·∫°o b·∫£ng khi ch·∫°y l·∫ßn ƒë·∫ßu (spring.jpa.hibernate.ddl-auto=update)
//- M·∫≠t kh·∫©u ƒë∆∞·ª£c m√£ h√≥a b·∫±ng BCrypt
//- JWT token c√≥ th·ªùi h·∫°n 24 gi·ªù (c√≥ th·ªÉ thay ƒë·ªïi trong application.properties)
//- T·∫•t c·∫£ API ƒë·ªÅu return JSON format
//
//## üë• Ph√¢n quy·ªÅn
//
//| Role | Quy·ªÅn |
//|------|-------|
//| ADMIN | Full access - qu·∫£n l√Ω t·∫•t c·∫£ |
//| LECTURER | Xem danh s√°ch sinh vi√™n, c·∫≠p nh·∫≠t ƒëi·ªÉm |
//| STUDENT | Xem th√¥ng tin c√° nh√¢n, ƒëƒÉng k√Ω m√¥n h·ªçc |
//
//## üêõ Troubleshooting
//
//### L·ªói k·∫øt n·ªëi SQL Server
//- Ki·ªÉm tra SQL Server ƒë√£ ch·∫°y ch∆∞a
//- Ki·ªÉm tra username/password trong application.properties
//- Enable TCP/IP trong SQL Server Configuration Manager
//
//### L·ªói JWT
//- Ki·ªÉm tra token c√≥ ƒë∆∞·ª£c g·ª≠i ƒë√∫ng format kh√¥ng: `Bearer {token}`
//- Token c√≥ th·ªÉ ƒë√£ h·∫øt h·∫°n, c·∫ßn login l·∫°i
//
//### L·ªói CORS
//- CORS ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh cho t·∫•t c·∫£ origins
//- N·∫øu v·∫´n l·ªói, ki·ªÉm tra SecurityConfig.java
//
//## üìû Li√™n h·ªá
//- GitHub: [Your GitHub]
//- Email: [Your Email]
//
//---
//**Made with ‚ù§Ô∏è by IUH - FIT - SE**